(this.webpackJsonphome=this.webpackJsonphome||[]).push([[0],{44:function(n,t,e){},45:function(n,t,e){},46:function(n,t,e){"use strict";e.r(t);var a,c,o=e(0),r=e.n(o),i=e(8),s=e.n(i),l=e(2),u=e(3),d=e(26),f=e(29),h=e(24),g=e.n(h),b=e(14),j=e.n(b),m=e(17),p=e(4);function x(n){return/^https?:\/\//.test(n)?n:"//".concat(n)}var O=window.localStorage;function v(n,t){var e=Object(o.useState)((function(){var e=O.getItem(n);return null!==e?JSON.parse(e):t})),a=Object(l.a)(e,2),c=a[0],r=a[1];return Object(o.useEffect)((function(){O.setItem(n,JSON.stringify(c))}),[c,n]),[c,r]}function w(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t=j.a.parse(n),e=Object.keys(t).find((function(n){return n.startsWith("?")}));if(e){var a=t[e];delete t[e],t[e.slice(1)]=a}return t}function k(n,t){var e=Object(o.useState)(function(n){return w()[n]}(n)||t),a=Object(l.a)(e,2),c=a[0],r=a[1];return[c,Object(o.useCallback)((function(t){r(t),function(n,t){var e=w();n in e&&!t?delete e[n]:e[n]=t;var a=window.location.protocol+"//"+window.location.host+window.location.pathname+"".concat(Object.keys(e).length?"?":"").concat(j.a.stringify(e));window.history.pushState({path:a},"",a)}(n,t)}),[n])]}p.a.i.attrs((function(n){return{className:n.checked?"fas fa-check-square":"fas fa-square"}}))(a||(a=Object(u.a)(["\n  margin: 12px 10px 0px 15px;\n\n  transform: scale(1.35);\n\n  color: var(--frg-l);\n\n  &:hover {\n    color: var(--frg-ll);\n  }\n"]))),p.a.i.attrs({className:"far fa-trash-alt fa-lg"})(c||(c=Object(u.a)(["\n  padding: 13px 10px;\n\n  color: var(--frg-l);\n\n  &:hover {\n    color: var(--frg-ll);\n  }\n"])));var y,I,E,S=Object(m.a)((function(n){return{loggedIn:!1,setLoggedIn:function(t){return n({loggedIn:t})}}})),A=Object(m.a)((function(n){return{addTask:function(){},setAddTask:function(t){return n({addTask:t})}}})),L=e(1),M=p.a.div(y||(y=Object(u.a)(["\n  vertical-align: top;\n\n  display: inline-block;\n\n  overflow: hidden;\n\n  box-sizing: border-box;\n  margin: 2px;\n  height: var(--section-height);\n  width: var(--section-width);\n\n  background-color: var(--hdr);\n\n  text-align: left;\n  color: var(--htx);\n\n  &:before {\n    content: '';\n    margin-left: 5px;\n  }\n"]))),T=p.a.div(I||(I=Object(u.a)(["\n  padding: 10px 15px 15px 10px;\n\n  height: 100%;\n\n  background-color: var(--frg);\n"])));function C(n){var t=n.title,e=n.children;return e.length?Object(L.jsxs)(M,{id:t,children:[t,Object(L.jsx)(T,{children:e})]}):Object(L.jsx)(L.Fragment,{})}var D=p.a.a(E||(E=Object(u.a)(["\n  margin-bottom: var(--link-margin);\n  padding-left: 5px;\n\n  display: block;\n\n  color: var(--txt);\n  text-decoration: none;\n\n  &:hover,\n  &.selected {\n    background-color: rgba(255, 255, 255, 0.05);\n\n    color: var(--hgl);\n  }\n"])));function N(n){var t=n.query,e=n.setAction,a=v("sites",null),c=Object(l.a)(a,2),r=c[0],i=c[1],s=Object(o.useState)([]),u=Object(l.a)(s,2),d=u[0],h=u[1],b=Object(o.useState)(null),j=Object(l.a)(b,2),m=j[0],p=j[1],O=Object(o.useState)(0),w=Object(l.a)(O,2),k=w[0],y=w[1];Object(o.useEffect)((function(){fetch("https://gist.githubusercontent.com/minchingtonak/97724dbb14bb9321993592b7ead908ad/raw").then((function(n){return n.json()})).then((function(n){return i(n)})).catch((function(n){return console.error(n)}))}),[i]),Object(o.useEffect)((function(){null!==r&&document.documentElement.style.setProperty("--max-links","".concat(Math.max.apply(Math,Object(f.a)(Object.keys(r).map((function(n){return Object.keys(r[n]).length}))))))}),[r]);var I=Object(o.useCallback)((function(n){if(null!==r){var a=[],c=0,o=!1;Object.keys(r).forEach((function(i,s){var l=r[i],u=Object.keys(l).filter((function(n){return n.toLowerCase().includes(t)}));u.length&&(o=!0,a.push(Object(L.jsx)(C,{title:i,children:u.map((function(t,a){var o=c++===n;return o&&e(l[t]),Object(L.jsx)(D,{href:x(l[t]),className:o?"selected":"",children:t},a)}))},s)))})),y(c),h(a),p(n),o&&t.length||e(null)}}),[t,r,e]);return Object(o.useEffect)((function(){g()(t)||/^(https?)?:\/\/localhost:\d{1,5}([^\d].*)?$/g.test(t)?e(t):null===t.match(/^lh\d{3,5}$/)&&null===t.match(/^localhost:\d{3,5}$/)?I(t.length?0:null):e("http://localhost:".concat(t.match(/\d{3,5}/)[0]))}),[t,e,I]),Object(o.useEffect)((function(){function n(n){var t=m;"ArrowUp"===n.key||"ArrowLeft"===n.key?null!==m&&m>0&&(t=m-1):"ArrowDown"!==n.key&&"ArrowRight"!==n.key||null!==m&&m<k&&(t=m+1),t!==m&&I(t)}return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[m,k,I]),Object(L.jsx)("div",{id:"links",children:d})}var q,z,J=e(25),F=e.n(J),P=e(6),R=["https://www.googleapis.com/discovery/v1/apis/tasks/v1/rest"],B="https://www.googleapis.com/auth/tasks",U=!1;function $(){var n=S(),t=n.loggedIn,e=n.setLoggedIn,a=Object(o.useState)(!1),c=Object(l.a)(a,2),r=c[0],i=c[1],s=v("offlineaccess",!1),u=Object(l.a)(s,2),d=u[0],f=u[1];Object(o.useEffect)((function(){t||P.a.load("client:auth2",(function(){var n;n=function(n){e(n),setTimeout((function(){n&&!d&&P.a.auth2.getAuthInstance().currentUser.get().grantOfflineAccess({scope:B,prompt:"consent"}).then((function(n){n.code,f(!0)}))}),5e3)},U||(U=!0,P.a.client.init({apiKey:"AIzaSyBZJJOMt3MkTKNiTgX8lRAkRx8Nd0A8lTc",clientId:"529992368744-omh87l4imgosp83f9l67toav9rgl2bru.apps.googleusercontent.com",discoveryDocs:R,scope:B}).then((function(){P.a.auth2.getAuthInstance().isSignedIn.listen(n),n(P.a.auth2.getAuthInstance().isSignedIn.get())})).catch((function(n){console.error("Auth init error: ",n)}))),i(!0)}))}),[t,e,d,f]);var h=r?P.a.auth2.getAuthInstance():{signIn:function(){},signOut:function(){}};return{loggedIn:t,setLoggedIn:e,logIn:h.signIn,logOut:h.signOut,username:t?P.a.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName():null}}var H=p.a.input(q||(q=Object(u.a)(["\n  margin: 0px 2px 2px 2px;\n  padding-left: 5px;\n  box-sizing: border-box;\n\n  border: none;\n  width: var(--lwidth);\n  height: 50px;\n\n  font-size: 40px;\n  background-color: var(--frg);\n  color: var(--txt);\n  font-family: Terminus, Montserrat;\n\n  &:focus {\n    outline: none;\n  }\n\n  @media screen and (max-width: 912px) {\n    & {\n      width: var(--mwidth);\n    }\n  }\n\n  @media screen and (max-width: 608px) {\n    & {\n      width: var(--swidth);\n    }\n  }\n"]))),W=Object(p.a)(F.a)(z||(z=Object(u.a)(["\n  display: "," !important;\n"])),(function(n){return n.open?"default":"none"}));function K(n){var t=n.text,e=n.setText,a=n.action,c=Object(o.useRef)(null),r=Object(o.useState)(!1),i=Object(l.a)(r,2),s=i[0],u=i[1],d=Object(o.useState)(null),f=Object(l.a)(d,2),h=f[0],g=f[1],b=A().addTask,j=$(),m=j.loggedIn,p=j.logOut,O=j.logIn,v=Object(o.useCallback)((function(n){t.length?document.title="".concat(n," - ").concat(t):document.title="\ud83c\udfe0 Home"}),[t]);return Object(o.useEffect)((function(){v("\ud83d\udd0d")}),[t,v]),Object(o.useEffect)((function(){var n=v.bind(null,"\ud83d\udcdd"),t=v.bind(null,"\ud83d\udd0d");return window.addEventListener("blur",n),window.addEventListener("focus",t),function(){window.removeEventListener("blur",n),window.removeEventListener("focus",t)}}),[v]),Object(o.useEffect)((function(){window.addEventListener("keydown",(function(n){"Escape"===n.key&&u(!1)}))})),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("form",{id:"action",onSubmit:function(n){if(n.preventDefault(),/^\/t(ask)?/.test(t)){var c=t.match(/[\s].*/g);g(null!==c?c[0].trim():null),u(!0)}else if(/^\/login/.test(t)){if(m)return;O(),e("")}else if(/^\/logout/.test(t)){if(!m)return;p(),e(""),window.localStorage.clear()}else window.location.assign(null!==a?x(a):"".concat("https://google.com/search","?q=").concat(encodeURIComponent(t)))},children:Object(L.jsx)(H,{type:"text",value:t,ref:c,autoFocus:!0,autoComplete:"off",onChange:function(n){return e(n.target.value)}})}),Object(L.jsx)(W,{selectedDays:new Date,open:s,onDayClick:function(n){null!==h&&n&&(b({title:h,due:n.toISOString()}),e("")),u(!1)}})]})}var G,V,X,Z,Q,Y=e(18),_=e.n(Y),nn=p.a.div(G||(G=Object(u.a)(["\n  width: 180px;\n\n  margin-right: auto;\n\n  display: flex;\n"]))),tn=p.a.span(V||(V=Object(u.a)(["\n  align-self: flex-start;\n\n  color: var(--htx);\n"]))),en=Object(p.a)(tn)(X||(X=Object(u.a)(["\n  margin-right: auto;\n\n  align-self: flex-end;\n"])));function an(){var n=Object(o.useState)(new Date),t=Object(l.a)(n,2),e=t[0],a=t[1];return Object(o.useEffect)((function(){var n=setInterval((function(){a(new Date)}),1e3);return function(){clearInterval(n)}}),[]),Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(nn,{children:[Object(L.jsx)(en,{id:"clock",children:_()(e).format("HH:mm:ss")}),Object(L.jsx)(tn,{id:"date",children:_()(e).format("ddd, MMM D")})]})})}var cn,on=p.a.div(Z||(Z=Object(u.a)(["\n  margin: 2px 2px 0 2px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  align-items: center;\n\n  padding: 0 5px;\n  width: var(--lwidth);\n\n  background-color: var(--hdr);\n\n  color: var(--txt);\n  font-size: 16px;\n  line-height: 30px;\n\n  @media screen and (max-width: 912px) {\n    & {\n      width: var(--mwidth);\n      margin: 2px auto 0 auto;\n    }\n  }\n\n  @media screen and (max-width: 608px) {\n    & {\n      width: var(--swidth);\n    }\n  }\n"]))),rn=p.a.a(Q||(Q=Object(u.a)(["\n  color: var(--htx);\n  text-decoration: none;\n\n  &:hover {\n    color: var(--txt);\n  }\n\n  & + & {\n    margin-left: 15px;\n  }\n\n  @media screen and (max-width: 608px) {\n    &:first-of-type {\n      margin-left: 110px;\n    }\n  }\n"])));function sn(){return Object(L.jsxs)(on,{id:"static-links",children:[Object(L.jsx)(an,{}),["Spotify"].map((function(n,t){return Object(L.jsx)(rn,{href:n.toLowerCase()+":",children:n},t)}))]})}var ln=p.a.div(cn||(cn=Object(u.a)(["\n  // transition: 0.2s height;\n\n  max-width: 912px;\n\n  user-select: none;\n  text-align: center;\n"])));function un(){var n=k("q",""),t=Object(l.a)(n,2),e=t[0],a=t[1],c=Object(o.useState)(null),r=Object(l.a)(c,2),i=r[0],s=r[1],u=Object(d.a)(),f=u.height,h=u.ref;return Object(o.useEffect)((function(){void 0!==f&&f>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--homesearch-height").slice(0,-2))&&document.documentElement.style.setProperty("--homesearch-height","".concat(f,"px"))}),[f]),Object(L.jsxs)(ln,{id:"main",ref:h,children:[Object(L.jsx)(sn,{}),Object(L.jsx)(K,{text:e,setText:a,action:i}),Object(L.jsx)(N,{query:e,setAction:s})]})}function dn(){return Object(o.useEffect)((function(){var n,t;document.documentElement.style.setProperty("--base","".concat((n=10,t=360,Math.floor(Math.random()*(t-n+1))+n)))}),[]),Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(un,{})})}e(44),e(45),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(dn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.53dc19b4.chunk.js.map